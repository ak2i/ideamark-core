# ğŸ§© Extendï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ‹¡å¼µæ©Ÿèƒ½ä»•æ§˜

`ideamark extend` ã¯ã€æ—¢å­˜ã® IdeaMark ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¯¾ã—ã¦ã€è­°è«–ãƒ»æ„è¦‹ãƒ»ææ¡ˆãƒ»åè«–ãªã©ã‚’åŠ ãˆã‚‹ã“ã¨ã§ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ·±æ˜ã‚Šã‚„å¤šæ§˜ãªè¦–ç‚¹ã®è¿½åŠ ã‚’æ”¯æ´ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚

## ğŸ§­ æ©Ÿèƒ½ç›®çš„

- ä»»æ„ã® `.ideamark.yaml` ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ã€é–¢é€£ã™ã‚‹è¿½åŠ çŸ¥è­˜ã‚„ç«‹å ´ã‚’è¨˜è¿°ã—ã€è¿½è¨˜ã¾ãŸã¯æ´¾ç”Ÿãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã€‚
- èª²é¡Œè§£æ±ºç­–ã®è­°è«–ã‚„åˆæ„å½¢æˆãƒ—ãƒ­ã‚»ã‚¹ã‚’æ”¯æ´ã™ã‚‹æ§‹é€ çš„æ‹¡å¼µã€‚

---

## ğŸ”§ å®Ÿè£…ãƒ¢ãƒ¼ãƒ‰

### 1. **è¿½è¨˜ãƒ¢ãƒ¼ãƒ‰ï¼ˆin-place appendï¼‰**
- å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã® `Discussion`, `Deeds`, `CounterProposal`, `Commentary` ãªã©ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½è¨˜ã€‚

### 2. **æ´¾ç”Ÿãƒ¢ãƒ¼ãƒ‰ï¼ˆnew documentï¼‰**
- å…ƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¶™æ‰¿ã—ãŸæ–°ã—ã„ `.ideamark.yaml` ã‚’ç”Ÿæˆã€‚
- ãƒ˜ãƒƒãƒ€ã« `extends: ./original.ideamark.yaml` ã‚’æ˜è¨˜ã€‚

---

## ğŸ› ï¸ ä½¿ç”¨ä¾‹ï¼ˆCLIï¼‰

```sh
# ãƒ•ã‚¡ã‚¤ãƒ«Aã«è­°è«–ã‚’è¿½è¨˜
ideamark extend ideaA.ideamark.yaml --with debate.yaml --mode append

# æ´¾ç”Ÿæ–‡æ›¸ã¨ã—ã¦æ–°ãŸã«ä¿å­˜
ideamark extend ideaA.ideamark.yaml --with counter.yaml --mode derive --output ideaA.counter.ideamark.yaml
```

---

## ğŸ“„ ç”Ÿæˆã•ã‚Œã‚‹æ§‹é€ ä¾‹ï¼ˆderiveãƒ¢ãƒ¼ãƒ‰ï¼‰

```yaml
title: "Carbon Tariff Criticism"
extends: "./carbon_tariff.ideamark.yaml"

Discussion:
  - "While the original proposal focuses on EU trade fairness, this critique highlights developing countries' disadvantages..."
```

---

## ğŸ§  æ‹¡å¼µå¯¾è±¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

- `Discussion`
- `Deeds`
- `CounterProposal`
- `Commentary`
- `related_refs`ï¼ˆå‚è€ƒæ–‡çŒ®ã‚„å¤–éƒ¨å‡ºå…¸ã®è¿½åŠ ï¼‰

---

## ğŸ“ ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | å†…å®¹ |
|------------|------|
| `--mode` | `append`ï¼ˆè¿½è¨˜ï¼‰ / `derive`ï¼ˆæ´¾ç”Ÿï¼‰ |
| `--with` | æ‹¡å¼µå†…å®¹ã‚’å«ã‚€è£œåŠ©YAMLã¾ãŸã¯ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ |
| `--output` | å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆderiveæ™‚ï¼‰ |
| `--tag` | è¿½åŠ ã‚¿ã‚°æŒ‡å®šï¼ˆä¾‹ï¼š`--tag rebuttal`ï¼‰ |

---

## âœ… MCP Serveré€£æº

- ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¾‹ï¼š
  - `POST /extend`
  - å…¥åŠ›ï¼šå…ƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆIDã€æ‹¡å¼µå†…å®¹ã€ãƒ¢ãƒ¼ãƒ‰
- ã‚µãƒ¼ãƒå´ã§ã¯è¿½è¨˜oræ´¾ç”Ÿæ§‹é€ ã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¨é–¢é€£æ€§ã‚’è¨˜éŒ²å¯èƒ½ã€‚

---

## ğŸ”— é–¢é€£æ©Ÿèƒ½

- `ideamark compare`ï¼šæ‹¡å¼µå‰å¾Œã®æ¯”è¼ƒ
- `ideamark analyze`ï¼šæ‹¡å¼µä»¶æ•°ãƒ»æ·±åº¦ã®å¯è¦–åŒ–
- `ideamark suggest`ï¼šæ‹¡å¼µã®å€™è£œä¾‹æç¤ºï¼ˆAIæ”¯æ´ï¼‰

---

ã“ã®æ©Ÿèƒ½ã«ã‚ˆã‚Šã€IdeaMark ã¯ä¸€æ–¹å‘çš„ãªè¨˜è¿°å½¢å¼ã‹ã‚‰ã€æ§‹é€ çš„ã‹ã¤åå¾©çš„ãªçŸ¥è­˜æ‹¡å¼µã®åœŸå°ã¸ã¨é€²åŒ–ã—ã¾ã™ã€‚
